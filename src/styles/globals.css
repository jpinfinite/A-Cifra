@tailwind base;
@tailwind components;
@tailwind utilities;

/* Variáveis CSS personalizadas para design premium */
:root {
  /* Cores da marca com gradientes */
  --gradient-primary: linear-gradient(135deg, #00283B 0%, #155C8B 100%);
  --gradient-secondary: linear-gradient(135deg, #155C8B 0%, #041924 100%);
  --gradient-gold: linear-gradient(135deg, #E1A441 0%, #F5B041 100%);
  
  /* Sombras premium */
  --shadow-sm: 0 1px 2px 0 rgba(4, 25, 36, 0.05);
  --shadow-md: 0 4px 6px -1px rgba(4, 25, 36, 0.1), 0 2px 4px -1px rgba(4, 25, 36, 0.06);
  --shadow-lg: 0 10px 15px -3px rgba(4, 25, 36, 0.1), 0 4px 6px -2px rgba(4, 25, 36, 0.05);
  --shadow-xl: 0 20px 25px -5px rgba(4, 25, 36, 0.1), 0 10px 10px -5px rgba(4, 25, 36, 0.04);
  
  /* Transições suaves */
  --transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
  --transition-base: 300ms cubic-bezier(0.4, 0, 0.2, 1);
  --transition-slow: 500ms cubic-bezier(0.4, 0, 0.2, 1);
  
  /* Bordas arredondadas */
  --radius-sm: 0.375rem;
  --radius-md: 0.5rem;
  --radius-lg: 0.75rem;
  --radius-xl: 1rem;
}

/* Estilos para imagens nos artigos */
.article-image {
  @apply my-8 rounded-xl overflow-hidden shadow-lg;
}

.article-image img {
  @apply w-full h-auto object-cover;
  max-height: 400px;
  transition: transform var(--transition-base);
}

.article-image:hover img {
  transform: scale(1.02);
}

.article-image .image-caption {
  @apply text-center text-sm text-gray-600 bg-gray-50 py-3 px-4 italic;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
}

/* Boxes especiais para artigos */
.tip-box {
  @apply bg-blue-50 border-l-4 border-blue-400 p-4 rounded-r-lg my-6;
}

.tip-box p {
  @apply text-blue-800;
}

.alert-box {
  @apply bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded-r-lg my-6;
}

.alert-box p {
  @apply text-yellow-800;
}

.conclusion-box {
  @apply bg-green-50 border-l-4 border-green-400 p-4 rounded-r-lg my-6;
}

.conclusion-box p {
  @apply text-green-800;
}

/* Caixas de comparação */
.comparison-box {
  @apply bg-gray-50 border border-gray-200 rounded-lg p-6 my-6 shadow-sm;
}

.comparison-box h3 {
  @apply text-xl font-bold text-brand-primary-blue mb-3;
}

.comparison-box h4 {
  @apply text-lg font-semibold text-brand-primary-blue mt-4 mb-2;
}

/* Tabela de comparação */
.comparison-table {
  @apply w-full border-collapse border border-gray-300 my-6 rounded-lg overflow-hidden shadow-sm;
}

.comparison-table th {
  @apply bg-brand-primary-blue text-white font-semibold p-3 text-left;
}

.comparison-table td {
  @apply border border-gray-300 p-3 bg-white;
}

.comparison-table tr:nth-child(even) td {
  @apply bg-gray-50;
}

.comparison-table td:first-child {
  @apply font-semibold text-brand-primary-blue;
}

/* Data highlight para métricas */
.data-highlight {
  @apply bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-500 p-6 my-6 rounded-r-lg shadow-sm;
}

.data-highlight h3 {
  @apply text-xl font-bold text-blue-800 mb-4;
}

.data-highlight h4 {
  @apply text-lg font-semibold text-blue-700 mt-4 mb-2;
}

.data-highlight ul {
  @apply space-y-2;
}

.data-highlight li {
  @apply text-gray-700;
}

.data-highlight strong {
  @apply text-blue-600 font-semibold;
}

/* Estilos para conteúdo de artigo */
.prose {
  @apply max-w-none;
}

.prose img {
  @apply rounded-lg shadow-md;
}

.prose blockquote {
  @apply border-l-4 border-brand-gold bg-brand-gold/5 pl-4 py-2 my-6 italic;
}

.prose ul {
  @apply space-y-2;
}

.prose li {
  @apply leading-relaxed;
}

.prose strong {
  @apply text-brand-primary-blue font-semibold;
}

.prose h2 {
  @apply text-2xl font-bold text-brand-primary-blue mt-8 mb-4;
}

.prose h3 {
  @apply text-xl font-semibold text-brand-primary-blue mt-6 mb-3;
}

.prose h4 {
  @apply text-lg font-medium text-brand-primary-blue mt-4 mb-2;
}

.prose p {
  @apply mb-4 leading-relaxed;
}

.prose a {
  @apply text-brand-gold hover:text-brand-primary-blue underline transition-colors;
}

@layer base {
  /* Otimizações de performance e scroll */
  html {
    scroll-behavior: smooth;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  
  /* Prevenir layout shift */
  body {
    @apply font-sans text-gray-900 bg-white antialiased;
    min-height: 100vh;
    overflow-x: hidden;
  }
  
  /* Tipografia otimizada */
  h1, h2, h3, h4, h5, h6 {
    @apply font-heading;
    line-height: 1.25;
    letter-spacing: -0.025em;
  }
  
  /* Links otimizados */
  a {
    @apply transition-colors duration-200;
  }
  
  /* Imagens responsivas */
  img {
    @apply max-w-full h-auto;
  }
  
  /* Focus styles premium para acessibilidade */
  *:focus-visible {
    @apply outline-2 outline-offset-2 outline-brand-primary-blue;
    box-shadow: 0 0 0 4px rgba(21, 92, 139, 0.1);
  }
  
  /* Skip link melhorado */
  .skip-link {
    @apply absolute -top-10 left-4 z-50 bg-brand-primary-blue text-white px-4 py-2 rounded-md;
    @apply focus:top-4 transition-all duration-200 shadow-lg;
    box-shadow: var(--shadow-lg);
  }
  
  /* Screen reader otimizado */
  .sr-only {
    @apply absolute w-px h-px p-0 -m-px overflow-hidden whitespace-nowrap border-0;
    clip: rect(0, 0, 0, 0);
  }
  
  /* Focus visible melhorado */
  .focus-visible {
    @apply outline-2 outline-offset-2 outline-brand-primary-blue;
    box-shadow: 0 0 0 4px rgba(21, 92, 139, 0.1);
  }
  
  /* Touch interactions */
  .touch-hover {
    @apply bg-gray-100;
  }
  
  /* Smooth scrolling for touch devices */
  .smooth-scroll {
    -webkit-overflow-scrolling: touch;
    overflow-scrolling: touch;
  }
  
  /* Prevent text selection on touch */
  .no-select {
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
  }
  
  /* Optimize tap targets */
  .tap-target {
    @apply min-h-touch min-w-touch;
    touch-action: manipulation;
  }
  
  /* Safe area support */
  .safe-area-top {
    padding-top: max(env(safe-area-inset-top), 0px);
  }
  
  .safe-area-bottom {
    padding-bottom: max(env(safe-area-inset-bottom), 0px);
  }
  
  .safe-area-left {
    padding-left: max(env(safe-area-inset-left), 0px);
  }
  
  .safe-area-right {
    padding-right: max(env(safe-area-inset-right), 0px);
  }
  
  /* Article content styles premium */
  .article-content {
    @apply text-gray-900 leading-relaxed;
    font-size: clamp(1rem, 2.5vw, 1.125rem);
    line-height: 1.75;
  }
  
  .article-content h2 {
    @apply text-2xl md:text-3xl font-heading font-semibold mt-12 mb-6 text-brand-dark-blue;
    scroll-margin-top: 5rem;
  }
  
  .article-content h3 {
    @apply text-xl md:text-2xl font-heading font-semibold mt-8 mb-4 text-brand-dark-blue;
    scroll-margin-top: 5rem;
  }
  
  .article-content h4 {
    @apply text-lg md:text-xl font-heading font-semibold mt-6 mb-3 text-brand-primary-blue;
    scroll-margin-top: 5rem;
  }
  
  .article-content p {
    @apply mb-6 leading-relaxed;
    /* text-align removido para melhor acessibilidade (WCAG 1.4.8) */
  }
  
  .article-content ul, .article-content ol {
    @apply mb-6 pl-6;
  }
  
  .article-content li {
    @apply mb-3 leading-relaxed;
  }
  
  .article-content ul li {
    @apply list-disc marker:text-brand-primary-blue;
  }
  
  .article-content ol li {
    @apply list-decimal marker:text-brand-primary-blue;
  }
  
  .article-content strong {
    @apply font-semibold text-brand-dark-blue;
  }
  
  .article-content em {
    @apply italic text-gray-600;
  }
  
  .article-content blockquote {
    @apply border-l-4 border-brand-primary-blue pl-6 py-4 my-8 bg-brand-off-white italic rounded-r-lg;
    background: linear-gradient(to right, rgba(245, 247, 250, 0.8), rgba(245, 247, 250, 0.3));
  }
  
  .article-content blockquote p {
    @apply mb-0 text-gray-700;
  }
  
  .article-content code {
    @apply bg-gray-100 px-2 py-1 rounded text-sm font-mono text-brand-dark-blue;
    background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
  }
  
  .article-content pre {
    @apply bg-gray-900 text-white p-6 rounded-xl overflow-x-auto my-8;
    box-shadow: var(--shadow-xl);
  }
  
  .article-content pre code {
    @apply bg-transparent p-0 text-gray-100;
  }
  
  /* Tabelas responsivas */
  .article-content table {
    @apply w-full border-collapse border border-gray-200 rounded-lg overflow-hidden my-6;
  }
  
  .article-content th {
    @apply bg-brand-dark-blue text-white px-4 py-3 text-left font-semibold;
  }
  
  .article-content td {
    @apply border-t border-gray-200 px-4 py-3;
  }
  
  .article-content tr:nth-child(even) {
    @apply bg-gray-50;
  }
  
  /* Line clamp utilities */
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
  
  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
}

@layer components {
  /* Botões premium com gradientes e animações */
  .btn-gradient {
    background: var(--gradient-primary);
    @apply text-white font-semibold px-6 py-3 rounded-lg transition-all duration-300;
    @apply hover:shadow-lg hover:-translate-y-0.5 focus:outline-none focus:ring-2 focus:ring-brand-primary-blue focus:ring-offset-2;
    box-shadow: var(--shadow-md);
  }
  
  .btn-gradient:hover {
    background: var(--gradient-secondary);
    box-shadow: var(--shadow-lg);
  }
  
  .btn-gold {
    background: var(--gradient-gold);
    @apply text-brand-dark-blue font-semibold px-6 py-3 rounded-lg transition-all duration-300;
    @apply hover:shadow-lg hover:-translate-y-0.5 focus:outline-none focus:ring-2 focus:ring-brand-gold focus:ring-offset-2;
    box-shadow: var(--shadow-md);
  }
  
  .btn-gold:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-xl);
  }
  
  /* Cards premium com hover effects */
  .card-hover {
    @apply transition-all duration-300 ease-in-out;
    @apply hover:shadow-xl hover:-translate-y-2;
    box-shadow: var(--shadow-sm);
  }
  
  .card-hover:hover {
    box-shadow: var(--shadow-xl);
  }
  
  /* Text gradient premium */
  .text-gradient {
    background: var(--gradient-primary);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
  
  .text-gradient-gold {
    background: var(--gradient-gold);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
  
  /* Seção hero premium */
  .hero-gradient {
    background: var(--gradient-primary);
    position: relative;
    overflow: hidden;
  }
  
  .hero-gradient::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: radial-gradient(circle at 20% 80%, rgba(225, 164, 65, 0.1) 0%, transparent 50%);
    pointer-events: none;
  }
  
  /* Loading states */
  .loading-skeleton {
    @apply animate-pulse bg-gray-200 rounded;
  }
  
  /* Badges */
  .badge {
    @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium;
  }
  
  .badge-blue {
    @apply bg-brand-primary-blue text-white;
  }
  
  .badge-gold {
    @apply bg-brand-gold text-brand-dark-blue;
  }
}

@layer utilities {
  /* Article content utilities melhorados */
  .tip-box {
    @apply bg-blue-50 border-l-4 border-blue-400 p-6 my-8 rounded-r-lg;
    background: linear-gradient(to right, rgba(219, 234, 254, 0.8), rgba(219, 234, 254, 0.3));
    box-shadow: var(--shadow-sm);
  }
  
  .tip-box p {
    @apply text-blue-800 mb-0 font-medium;
  }
  
  .warning-box {
    @apply bg-yellow-50 border-l-4 border-yellow-400 p-6 my-8 rounded-r-lg;
    background: linear-gradient(to right, rgba(254, 249, 195, 0.8), rgba(254, 249, 195, 0.3));
    box-shadow: var(--shadow-sm);
  }
  
  .warning-box p {
    @apply text-yellow-800 mb-0 font-medium;
  }
  
  .info-box {
    @apply bg-gray-50 border-l-4 border-gray-400 p-6 my-8 rounded-r-lg;
    background: linear-gradient(to right, rgba(249, 250, 251, 0.8), rgba(249, 250, 251, 0.3));
    box-shadow: var(--shadow-sm);
  }
  
  .info-box p {
    @apply text-gray-800 mb-0 font-medium;
  }
  
  /* Animações personalizadas */
  .animate-fade-in {
    animation: fadeIn 0.6s ease-out;
  }
  
  .animate-slide-up {
    animation: slideUp 0.6s ease-out;
  }
  
  .animate-bounce-in {
    animation: bounceIn 0.8s ease-out;
  }
  
  /* Scroll animations */
  .scroll-reveal {
    opacity: 0;
    transform: translateY(30px);
    transition: all 0.6s ease-out;
  }
  
  .scroll-reveal.revealed {
    opacity: 1;
    transform: translateY(0);
  }
  
  /* Glass morphism effect */
  .glass {
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.2);
  }
  
  /* Text shadows */
  .text-shadow {
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  }
  
  .text-shadow-lg {
    text-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
  }
}

/* Keyframes para animações personalizadas */
@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes bounceIn {
  0% {
    opacity: 0;
    transform: scale(0.3);
  }
  50% {
    opacity: 1;
    transform: scale(1.05);
  }
  70% {
    transform: scale(0.9);
  }
  100% {
    opacity: 1;
    transform: scale(1);
  }
}

/* Performance optimizations */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* Dark mode support (preparação futura) */
@media (prefers-color-scheme: dark) {
  .auto-dark {
    @apply bg-gray-900 text-white;
  }
}

/* Boxes personalizados A Cifra */
.cifra-info {
  @apply bg-gradient-to-r from-blue-50 to-blue-100 border-l-4 border-blue-500 p-6 my-8 rounded-r-xl shadow-md;
  background: linear-gradient(90deg, rgba(219, 234, 254, 0.9) 0%, rgba(191, 219, 254, 0.6) 100%);
}

.cifra-info strong {
  @apply text-blue-700 font-bold block mb-2;
  font-size: 1.05em;
}

.cifra-info p {
  @apply text-blue-900 mb-0 leading-relaxed;
}

.cifra-alerta {
  @apply bg-gradient-to-r from-yellow-50 to-yellow-100 border-l-4 border-yellow-500 p-6 my-8 rounded-r-xl shadow-md;
  background: linear-gradient(90deg, rgba(254, 249, 195, 0.9) 0%, rgba(254, 240, 138, 0.6) 100%);
}

.cifra-alerta strong {
  @apply text-yellow-800 font-bold block mb-2;
  font-size: 1.05em;
}

.cifra-alerta p {
  @apply text-yellow-900 mb-0 leading-relaxed;
}

.cifra-destaque {
  @apply bg-gradient-to-r from-green-50 to-green-100 border-l-4 border-green-500 p-6 my-8 rounded-r-xl shadow-md;
  background: linear-gradient(90deg, rgba(220, 252, 231, 0.9) 0%, rgba(187, 247, 208, 0.6) 100%);
}

.cifra-destaque strong {
  @apply text-green-700 font-bold block mb-2;
  font-size: 1.05em;
}

.cifra-destaque p {
  @apply text-green-900 mb-0 leading-relaxed;
}

/* Estilo para boxes dentro do conteúdo do artigo */
.article-content .cifra-info,
.article-content .cifra-alerta,
.article-content .cifra-destaque {
  margin-top: 2rem;
  margin-bottom: 2rem;
}

/* Responsividade dos boxes */
@media (max-width: 640px) {
  .cifra-info,
  .cifra-alerta,
  .cifra-destaque {
    @apply p-4 my-6;
  }
  
  .cifra-info strong,
  .cifra-alerta strong,
  .cifra-destaque strong {
    font-size: 1em;
  }
}

/* Box de artigos relacionados inline */
.cifra-related-box {
  @apply my-8 p-6 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border-l-4 border-brand-primary-blue shadow-sm;
}

.cifra-related-box strong {
  @apply text-xl font-bold text-brand-dark-blue mb-4 block;
}

.cifra-related-box ul {
  @apply space-y-3 mt-4;
}

.cifra-related-box li {
  @apply flex items-start gap-2;
}

.cifra-related-box li::before {
  content: "→";
  @apply text-brand-primary-blue font-bold mt-1;
}

.cifra-related-box a {
  @apply text-brand-dark-blue hover:text-brand-primary-blue font-semibold transition-colors duration-200 no-underline;
}

.cifra-related-box a:hover {
  @apply underline;
}


/* Article Content - Garante renderização correta de HTML inline */
.article-content {
  @apply text-gray-800 leading-relaxed;
}

.article-content p {
  @apply mb-4 text-base leading-7;
}

.article-content h2 {
  @apply text-3xl font-bold mt-8 mb-4 text-brand-dark-blue;
}

.article-content h3 {
  @apply text-2xl font-bold mt-6 mb-3 text-brand-dark-blue;
}

.article-content h4 {
  @apply text-xl font-semibold mt-4 mb-2 text-brand-medium-blue;
}

.article-content ul {
  @apply list-disc list-inside mb-4 space-y-2 ml-4;
}

.article-content ol {
  @apply list-decimal list-inside mb-4 space-y-2 ml-4;
}

.article-content strong {
  @apply font-bold text-brand-dark-blue;
}

.article-content a {
  @apply text-brand-primary-blue hover:underline transition-colors;
}

.article-content pre {
  @apply bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto my-6;
}

.article-content code {
  @apply bg-gray-900 text-gray-100 px-2 py-1 rounded text-sm font-mono;
}

.article-content pre code {
  @apply bg-transparent p-0;
}

.article-content .article-image {
  @apply my-8 rounded-xl overflow-hidden shadow-lg;
}

.article-content .article-image img {
  @apply w-full h-auto object-cover;
}

.article-content .article-image .image-caption {
  @apply text-center text-sm text-gray-600 bg-gray-50 py-3 px-4 italic border-t border-gray-200;
}

.article-content .tip-box,
.article-content .alert-box,
.article-content .warning-box,
.article-content .info-box,
.article-content .comparison-box {
  @apply my-6 p-6 rounded-xl border-l-4;
}

.article-content .tip-box {
  @apply bg-green-50 border-green-500;
}

.article-content .alert-box {
  @apply bg-red-50 border-red-500;
}

.article-content .warning-box {
  @apply bg-yellow-50 border-yellow-500;
}

.article-content .info-box {
  @apply bg-blue-50 border-blue-500;
}

.article-content .comparison-box {
  @apply bg-purple-50 border-purple-500;
}
